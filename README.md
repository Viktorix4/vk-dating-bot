# Чат-бот для знакомств в ВКонтакте

Бот автоматически подбирает пользователей для знакомств на основе возраста, пола и города собеседника.  
Работает через официальный API ВКонтакте.


## Требования
- Python 3.8+
- PostgreSQL
- Группа ВКонтакте
- Токен пользователя ВК (для поиска)
- Токен группы ВК (для отправки сообщений)


## Установка

1. **Клонируйте репозиторий**
   ```bash
   git clone https://github.com/ваш-логин/vk-dating-bot.git
   cd vk-dating-bot


2. **Установите зависимости**
   ```bash
   pip install -r requirements.txt


3. **Создайте файл .env**
Скопируйте шаблон:
   ```bash
   # Linux/macOS
   cp .env.example .env

   # Windows
   copy .env.example .env


## Получение токенов

### VK_GROUP_TOKEN (токен сообщества (группы))

1. Создайте группу ВКонтакте
2. Перейдите в **Управление** → **Настройки** → **Работа с API**
3. Создайте ключ доступа с правами:
   - `messages` — для отправки сообщений
4. Включите **Long Poll API** в разделе **Сообщения**
5. Разрешите боту отправлять сообщения от имени группы

### VK_USER_TOKEN (токен пользователя)

Для получения токена пользователя используйте сервис:
https://vkhost.github.io/

Полученные токены вставьте в .env
  VK_GROUP_TOKEN=vk1.a.xxxx...
  VK_USER_TOKEN=vk1.a.yyyy...


## Запуск

```bash
python -m src.bot
```

Бот начнёт слушать сообщения в группе ВКонтакте.
После запуска напишите боту в группе ВКонтакте:
«Привет» — начнётся подбор анкет.


## Команды бота

-**«Привет», «Начать»** — начать поиск
-**«Следующий»** — показать следующую анкету
-**«В избранное»** — сохранить текущую анкету
-**«Избранные»** — показать список избранных


## Требования к профилю пользователя

Чтобы бот работал корректно, у вас в профиле ВКонтакте должны быть указаны:

*Полная дата рождения (ДД.ММ.ГГГГ, с годом),
*Город (выбранный из списка),
*Эти данные должны быть видны всем пользователям.

Без этого бот не сможет определить ваш возраст и город.


## Формат файла favorites.json

Файл favorites.json создаётся автоматически при первом добавлении в избранное.
Он содержит список сохранённых анкет в формате:
```json
[
  {
    "vk_id": 123456789,
    "first_name": "Анна",
    "last_name": "Смирнова",
    "profile_url": "https://vk.com/id123456789",
    "photos": [
      "photo123456789_987654321",
      "photo123456789_876543210",
      "photo123456789_765432109"
    ]
  }
]
```
⚠️ Файл не включён в репозиторий (добавлен в .gitignore) по соображениям приватности.


## Структура проекта

```
vk-dating-bot/
├── .env.example             # Шаблон для .env
├── README.md                # Документация
├── requirements.txt         # Зависимости
├── favorites.json           # Избранные (создаётся автоматически)
└── src/
    ├── __init__.py
    ├── bot.py               # Основной цикл бота
    ├── vk_client.py         # Работа с VK API
    └── storage.py           # Сохранение избранных
```

## Лицензия

Проект создан в учебных целях.

 ## Как использовать

1. Сохраните этот текст в файл `README.md` в корне проекта.
2. Замените `ваш-логин` на ваш GitHub-логин.
3. Убедитесь, что файл `.env.example` существует (скопируйте из `.env`, удалив токены).

